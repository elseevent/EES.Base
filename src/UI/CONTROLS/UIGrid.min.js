(function(n,t){t.namespace("E$.ui.controls.gridColumns",function(i){var r=t.klass(t.ui.controls.UIControlBase,{ctor:function(n){r.Base.ctor.apply(this,arguments);this.headerText=n.headerText||"";this.name=n.name||"";this.disabled=n.disabled},name:"",headerText:"",columnIndex:0,disabled:!1,createHeaderCell:function(t){var i=n("<td />").html(t||this.headerText);return this.renderBase(i),i},createCell:function(){}}),u=t.klass(r,{ctor:function(n){u.Base.ctor.apply(this,arguments);this.name=n.name||"id"},createHeaderCell:function(){var t=n("<td />").append(n('<input type="checkbox" />').click(function(){var i=String.format("tbody td:nth-child({0}) :checkbox",n(this).parent().index()+1),t=this;n(this).parents("table").find(i).each(function(i,r){r.checked=t.checked;n(r).attr("checked",t.checked)})}));return this.renderBase(t),t},createCell:function(t,i){var r=n("<td />").append(n(String.format('<input type="checkbox" name="{0}" value="{1}" />',this.name,i[this.name])));return this.renderBase(r),r}}),f=t.klass(r,{ctor:function(){f.Base.ctor.apply(this,arguments)},createCell:function(t,i){var u=i[this.name],r=n("<td />").html(u);return this.renderBase(r),r}}),e=t.klass(r,{ctor:function(n){e.Base.ctor.apply(this,arguments);this.tmpl=n.tmpl;this.tmplConverter=n.tmplConverter||String.advPropsFormat},tmpl:"",tmplConverter:function(){},createCell:function(t,i){var u=this.tmplConverter(this.tmpl||"",i,t),r=n("<td />").html(u);return this.renderBase(r),r}}),o=t.klass(r,{ctor:function(n){o.Base.ctor.apply(this,arguments);this.htmlText=n.htmlText;this.onAction=n.onAction||function(){}},htmlText:"Action",onAction:function(){},createCell:function(i,r){var u=this,e=n('<a href="javascript:;"/>').addClass("grid-action").html(this.htmlText),f;return e.click(function(){t.isFunction(u.onAction)&&u.onAction.call(this,u,r)}),f=n("<td />").append(e),this.renderBase(f),f}});t.extends(i,{UIGridColumnBase:r,UICheckBoxColumn:u,UIBindColumn:f,UITmplColumn:e,UIActionColumn:o})});t.using(["E$.ui.controls","E$.ui.controls.gridColumns"],function(i){var r=t.klass(i.UIControlBase,{ctor:function(n){r.Base.ctor.apply(this,arguments);this.columns=new t.components.collections.List;this.columns.add.apply(this.columns,n.columns);this.container=n.container;this.hasHeader=n.hasHeader===null||n.hasHeader===undefined?!0:!!n.hasHeader;t.each(this.columns,function(n,t){t.columnIndex=n})},data:{},columns:[],hasHeader:!0,createHeader:function(){var i=n("<tr />");return t.each(this.columns,function(n,t){t.disabled||i.append(t.createHeaderCell())}),i},createRow:function(i,r){var u=n("<tr />");return t.each(this.columns,function(n,t){t.disabled||u.append(t.createCell(i,r))}),u},createGrid:function(i){var r=this,u,f;return r.data=i,u=n("<table />"),r.hasHeader&&u.append(n("<thead />").append(r.createHeader())),f=n("<tbody />"),t.each(i,function(n,t){f.append(r.createRow(n,t))}),u.append(f),u},render:function(t){if(t){var i=this.createGrid(t);this.renderBase(i,self);n(this.container).empty().append(i)}}});i.UIGrid=r})})(jQuery,EES);