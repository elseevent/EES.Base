(function(n,t){t.namespace("E$.ui.controls",function(i){var r=t.klass(i.UIControlBase,{ctor:function(n){r.Base.ctor.apply(this,arguments);this.pageSize=n.pageSize||25;this.numberLength=n.numberLength||7;this.onChange=n.onChange||function(){}},numberLength:7,pageSize:25,currentPage:1,totalPage:0,allCount:0,onChange:function(){},getExNumberLength:function(){return(this.numberLength-1)/2},setTotalCount:function(n){this.totalPage=parseInt(n/this.pageSize);n%this.pageSize>0&&(this.totalPage+=1);this.allCount=n},createNumber:function(i,r,u){var f=this,e=n(String.format('<a href="javascript:;">{0}<\/a>',i)).click(function(){t.isFunction(f.onChange)&&f.onChange.call(this,f,r)});return!u||e.addClass(u),e},render:function(t){var i=this,u=n("<div />"),r,e,o,f;for(t<1&&(t=1),t>i.totalPage&&(t=i.totalPage),i.currentPage=t,u.append(i.createNumber("<<",1,"first")),(r=t-1)<1&&(r=1),u.append(i.createNumber("<",r,"prev")),e=o=i.getExNumberLength(),i.totalPage>i.numberLength&&((r=t-1-e)<0&&(o+=0-r),(r=t+o)>i.totalPage&&(e+=r-i.totalPage)),f=e;f>0;f--)(r=t-f)>0&&u.append(i.createNumber(r,r));for(u.append(i.createNumber(t,t,"current")),f=1;f<=o;f++)(r=t+f)<=i.totalPage&&u.append(i.createNumber(r,r));(r=t+1)>i.totalPage&&(r=i.totalPage);u.append(i.createNumber(">",r,"next"));u.append(i.createNumber(">>",i.totalPage,"last"));i.renderBase(u);n(i.container).empty().append(u)}});i.UIPagination=r})})(jQuery,EES);