(function(n,t){t.namespace("E$.ui.controls",function(i){var r=t.klass({ctor:function(n){this.container=n.container;this.attr=n.attr||{};this.clas=n.clas||"";this.style=n.style||{};this.options=n},attr:{},container:null,clas:"",style:{},options:{},renderBase:function(n){!this.clas||n.addClass(this.clas);!this.style||n.css(this.style);!this.attr||n.attr(this.attr)}});r.renderBase=function(t,i,u,f){if(arguments.length===2&&arguments[1]instanceof r){var e=arguments[1];n(t).addClass(e.clas).css(e.css).attr(e.attr)}else!t||n(t).addClass(u).css(f).attr(i)};i.UIControlBase=r})})(jQuery,EES),function(n,t){t.namespace("E$.ui.controls",function(i){var r=t.klass(i.UIControlBase,{ctor:function(t){r.Base.ctor.apply(this,arguments);var i=this;this.tmpl=t.tmpl||"";this.tmplConverter=t.tmplConverter||String.propsFormat;this.useRowCreator=!!t.useRowCreator;this.rowCreator=t.rowCreator||function(){var t=i.tmplConverter(i.tmpl||"",value);return n("<div />").addClass("list-item").html(t)}},tmpl:"",tmplConverter:function(){},useRowCreator:!1,rowCreator:function(){},createList:function(i){var r=this,u=n("<div />");return t.each(i,function(t,i){var f,e;r.useRowCreator?f=r.rowCreator(i):(e=r.tmplConverter(r.tmpl||"",i),f=n("<div />").addClass("list-item").html(e));u.append(n(f))}),u},render:function(t){if(t){var i=this.createList(t);this.renderBase(i);n(this.container).empty().append(i)}}});i.UIList=r})}(jQuery,EES),function(n,t){t.namespace("E$.ui.controls.gridColumns",function(i){var r=t.klass(t.ui.controls.UIControlBase,{ctor:function(n){r.Base.ctor.apply(this,arguments);this.headerText=n.headerText||"";this.name=n.name||"";this.disabled=n.disabled},name:"",headerText:"",columnIndex:0,disabled:!1,createHeaderCell:function(t){var i=n("<td />").html(t||this.headerText);return this.renderBase(i),i},createCell:function(){}}),u=t.klass(r,{ctor:function(n){u.Base.ctor.apply(this,arguments);this.name=n.name||"id"},createHeaderCell:function(){var t=n("<td />").append(n('<input type="checkbox" />').click(function(){var i=String.format("tbody td:nth-child({0}) :checkbox",n(this).parent().index()+1),t=this;n(this).parents("table").find(i).each(function(i,r){r.checked=t.checked;n(r).attr("checked",t.checked)})}));return this.renderBase(t),t},createCell:function(t,i){var r=n("<td />").append(n(String.format('<input type="checkbox" name="{0}" value="{1}" />',this.name,i[this.name])));return this.renderBase(r),r}}),f=t.klass(r,{ctor:function(){f.Base.ctor.apply(this,arguments)},createCell:function(t,i){var u=i[this.name],r=n("<td />").html(u);return this.renderBase(r),r}}),e=t.klass(r,{ctor:function(n){e.Base.ctor.apply(this,arguments);this.tmpl=n.tmpl;this.tmplConverter=n.tmplConverter||String.advPropsFormat},tmpl:"",tmplConverter:function(){},createCell:function(t,i){var u=this.tmplConverter(this.tmpl||"",i,t),r=n("<td />").html(u);return this.renderBase(r),r}}),o=t.klass(r,{ctor:function(n){o.Base.ctor.apply(this,arguments);this.htmlText=n.htmlText;this.onAction=n.onAction||function(){}},htmlText:"Action",onAction:function(){},createCell:function(i,r){var u=this,e=n('<a href="javascript:;"/>').addClass("grid-action").html(this.htmlText),f;return e.click(function(){t.isFunction(u.onAction)&&u.onAction.call(this,u,r)}),f=n("<td />").append(e),this.renderBase(f),f}});t.extends(i,{UIGridColumnBase:r,UICheckBoxColumn:u,UIBindColumn:f,UITmplColumn:e,UIActionColumn:o})});t.using(["E$.ui.controls","E$.ui.controls.gridColumns"],function(i){var r=t.klass(i.UIControlBase,{ctor:function(n){r.Base.ctor.apply(this,arguments);this.columns=new t.components.collections.List;this.columns.add.apply(this.columns,n.columns);this.container=n.container;this.hasHeader=n.hasHeader===null||n.hasHeader===undefined?!0:!!n.hasHeader;t.each(this.columns,function(n,t){t.columnIndex=n})},data:{},columns:[],hasHeader:!0,createHeader:function(){var i=n("<tr />");return t.each(this.columns,function(n,t){t.disabled||i.append(t.createHeaderCell())}),i},createRow:function(i,r){var u=n("<tr />");return t.each(this.columns,function(n,t){t.disabled||u.append(t.createCell(i,r))}),u},createGrid:function(i){var r=this,u,f;return r.data=i,u=n("<table />"),r.hasHeader&&u.append(n("<thead />").append(r.createHeader())),f=n("<tbody />"),t.each(i,function(n,t){f.append(r.createRow(n,t))}),u.append(f),u},render:function(t){if(t){var i=this.createGrid(t);this.renderBase(i,self);n(this.container).empty().append(i)}}});i.UIGrid=r})}(jQuery,EES),function(n,t){t.namespace("E$.ui.controls",function(i){var r=t.klass(i.UIControlBase,{ctor:function(n){r.Base.ctor.apply(this,arguments);this.pageSize=n.pageSize||25;this.numberLength=n.numberLength||7;this.onChange=n.onChange||function(){}},numberLength:7,pageSize:25,currentPage:1,totalPage:0,allCount:0,onChange:function(){},getExNumberLength:function(){return(this.numberLength-1)/2},setTotalCount:function(n){this.totalPage=parseInt(n/this.pageSize);n%this.pageSize>0&&(this.totalPage+=1);this.allCount=n},createNumber:function(i,r,u){var f=this,e=n(String.format('<a href="javascript:;">{0}<\/a>',i)).click(function(){t.isFunction(f.onChange)&&f.onChange.call(this,f,r)});return!u||e.addClass(u),e},render:function(t){var i=this,u=n("<div />"),r,e,o,f;for(t<1&&(t=1),t>i.totalPage&&(t=i.totalPage),i.currentPage=t,u.append(i.createNumber("<<",1,"first")),(r=t-1)<1&&(r=1),u.append(i.createNumber("<",r,"prev")),e=o=i.getExNumberLength(),i.totalPage>i.numberLength&&((r=t-1-e)<0&&(o+=0-r),(r=t+o)>i.totalPage&&(e+=r-i.totalPage)),f=e;f>0;f--)(r=t-f)>0&&u.append(i.createNumber(r,r));for(u.append(i.createNumber(t,t,"current")),f=1;f<=o;f++)(r=t+f)<=i.totalPage&&u.append(i.createNumber(r,r));(r=t+1)>i.totalPage&&(r=i.totalPage);u.append(i.createNumber(">",r,"next"));u.append(i.createNumber(">>",i.totalPage,"last"));i.renderBase(u);n(i.container).empty().append(u)}});i.UIPagination=r})}(jQuery,EES);