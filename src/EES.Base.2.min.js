(function(n,t){"use strict";var r={ap:Array.prototype,bp:Boolean.prototype,dp:Date.prototype,fp:Function.prototype,np:Number.prototype,op:Object.prototype,sp:String.prototype,rp:RegExp.prototype,classes:{},getType:function(n){return n===null?String(n):r.classes[r.op.toString.call(n)]||"object"},isArraylike:function(n){if(n===null||n===t||i.isFunction(n)||i.isString(n)||i.isWindow(n))return!1;if(n.nodeType===1&&r)return!0;var r=n.length;return i.isArray(n)||r===0||i.isNumeric(r)&&r>0&&r-1 in n},makeArray:function(n,t){var i=t||[];return n!==null&&(r.isArraylike(Object(n))?r.merge(i,typeof n=="string"?[n]:n):r.ap.push.call(i,n)),i},merge:function(n,t){for(var u=t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var f,u=0,o=n.length,s=r.isArraylike(n),e=[];if(s)for(;u<o;u++)f=t(n[u],u,i),f!==null&&e.push(f);else for(u in n)f=t(n[u],u,i),f!==null&&e.push(f);return r.ap.concat.apply([],e)},uuid:function(n,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,t).toUpperCase()}}(/[xy]/g,function(n){var t=Math.random()*16|0,i=n==="x"?t:t&3|8;return i.toString(16)}),sleep:function(n){var i=Date.now(),t;do t=Date.now();while(t-i<n)}},u=/^(?:(?:[\s,>+~]*)[a-zA-Z]*(?:[\.#][\w-]+|:[\w-\(\)]+)?)*$/i,i=function(n,t){var r,f;return i.isArray(n)?(n.length>0&&(f=n[0],i.isFunction(f)?r=new i.cWrapper.wrap(n,t):i.isString(f)&&(r=new i.sWrapper.wrap(n,t))),r||(r=new i.oWrapper.wrap(n,t)),r):(i.isFunction(n)?r=new i.cWrapper.wrap(n,t):i.isString(n)&&(r=u.test(n)?new i.dWrapper.wrap(n,t):new i.sWrapper.wrap(n,t)),r||(r=n&&n.nodeType?new i.dWrapper.wrap(n,t):new i.oWrapper.wrap(n,t)),r)};i.extends=function(){var s,o,f,u,h,c,n=arguments[0]||{},e=1,v=arguments.length,l=!1,a=r.getType(n);for(a==="boolean"&&(l=n,n=arguments[1]||{},e=2),a!=="object"&&a!=="function"&&(n={}),v===e&&(n=this,--e);e<v;e++)if((s=arguments[e])!==null)for(o in s)(f=n[o],u=s[o],n!==u)&&(l&&u&&(i.isPlainObject(u)||(h=i.isArray(u)))?(h?(h=!1,c=f&&i.isArray(f)?f:[]):c=f&&i.isPlainObject(f)?f:{},n[o]=i.extends(l,c,u)):u!==t&&(n[o]=u));return n};i.extends({isDebugging:!1,isArray:function(n){return r.getType(n)==="array"},isBoolean:function(n){return r.getType(n)==="boolean"},isDate:function(n){return r.getType(n)==="date"},isFunction:function(n){return r.getType(n)==="function"},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},isObject:function(n){return r.getType(n)==="object"},isRegExp:function(n){return r.getType(n)==="regexp"},isString:function(n){return r.getType(n)==="string"},isWindow:function(n){return n!==null&&n===n.window},isEmptyObject:function(n){for(var t in n)return!1;return!0},isPlainObject:function(n){if(!n||n.nodeType||!i.isObject(n)||i.isWindow(n))return!1;try{if(n.constructor&&!r.op.hasOwnProperty.call(n,"constructor")&&!r.op.hasOwnProperty.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(var u in n);return u===t||r.op.hasOwnProperty.call(n,u)},isNullOrUndefined:function(n){return n===null||n===t},notNullAndUndefined:function(n){return n!==null&&n!==t},inArray:function(n,t,i){return t===null?-1:r.ap.indexOf.call(t,n,i)},each:function(n,t,i){var f,u=0,e=n.length,o=r.isArraylike(n);if(i){if(o){for(;u<e;u++)if(f=t.apply(n[u],i),f===!1)break}else for(u in n)if(f=t.apply(n[u],i),f===!1)break}else if(o){for(;u<e;u++)if(f=t.call(n[u],u,n[u]),f===!1)break}else for(u in n)if(f=t.call(n[u],u,n[u]),f===!1)break;return n},namespace:function(n,t){return i.klass.namespace(n,t)},using:function(n,t){return i.klass.using(n,t)}});i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(n,t){r.classes["[object "+t+"]"]=t.toLowerCase()});i.cWrapper={constructor:function(n,t){return new i.cWrapper.wrap(n,t)},length:0,wrap:function(n,t){return(this.context=t,!n)?this:r.makeArray(n,this)},declare:function(n,t,i){return this.each(function(r,u){i?u[n]=t:u.prototype[n]=t})},insExtra:function(n){return i.each(this,function(t,i){E$.extends(i.prototype,n)}),this},staExtra:function(n){return i.each(this,function(t,i){E$.extends(i,n)}),this}};i.cWrapper.wrap.prototype=i.cWrapper;i.dWrapper={constructor:function(n,t){return new i.dWrapper.wrap(n,t)},length:0,wrap:function(n,t){if(n&&n.nodeType)return r.makeArray([n],this);var i;return i=t&&t.nodeType?t.querySelectorAll(n):document.querySelectorAll(n),this.selector=n,this.context=t,r.makeArray(i,this)},find:function(n){var t=[];return u.test(n)?this.execute(function(i){var r=i.querySelectorAll(n);S$.ap.push.apply(t,r)}):E$.isFunction(n)&&(t=S$.map(this,n)),this.pushStack(t)},attr:function(n,i){var r=this.element();return r?E$.isNullOrUndefined(i)?r.getAttribute(n):this.each(function(t,r){r.nodeType&&r.setAttribute(n,i)}):t},removeAttr:function(n){return this.each(function(t,i){i.nodeType&&i.removeAttribute(n)})},hasClass:function(n){for(var t=0,r=this.length,u=function(t){return t===n},i;t<r;t++)if(i=this[t],i.nodeType===1&&E$(i.classList).filter(u).length>0)return!0;return!1}};i.dWrapper.wrap.prototype=i.dWrapper;i.sWrapper={constructor:function(n,t){return new i.sWrapper.wrap(n,t)},length:0,wrap:function(n,t){return(this.context=t,!n)?this:r.makeArray(n,this)},indexOf:function(n){var t=[];return this.each(function(i,r){t[i]=S$.sp.indexOf.call(r,n)}),this.pushStack(t)},join:function(n){return S$.ap.join.call(this,n||",")},replace:function(n,t){var i=this.map(function(i){return r.sp.replace.call(i,n,t)});return this.pushStack(i)},split:function(n){var t=[];return this.each(function(i,r){S$.ap.push.apply(t,S$.sp.split.call(r,n))}),this.pushStack(t)},trim:function(){var n=[];return this.each(function(t,i){i=S$.sp.trim.call(i);i!==""&&n.push(i)}),this.pushStack(n)}};i.sWrapper.wrap.prototype=i.sWrapper;i.oWrapper={constructor:function(n,t){return new i.oWrapper.wrap(n,t)},length:0,wrap:function(n,t){return(this.context=t,!n)?this:r.makeArray(n,this)},addListener:function(n,t,i){if(!E$.isFunction(t))return this;var r={method:t,priority:i||0};return this.each(function(t,i){i.getRegistedEvents||(i.getRegistedEvents=function(){var n={};return function(){return n}}());var f=i.getRegistedEvents(),u=f[n];u?u.push(r):(u=[r],f[n]=u);u.sort(function(n,t){return n.priority<t.priority?-1:n.priority>t.priority?1:0})})},removeListener:function(n,t){return E$.isFunction(t)?this.each(function(i,u){var f,e;if(u.getRegistedEvents&&(f=u.getRegistedEvents()[n],f))for(e=0;e<f.length;e++)if(f[e].method===t){r.ap.splice.call(f,e,1);break}}):this},unlisten:function(n){return this.each(function(){if(o.getRegistedEvents)if(n){var t=o.getRegistedEvents();delete t[n]}else delete o.getRegistedEvents})},dispatch:function(n,t){var i=E$.isArray(t)?t:r.ap.slice.call(arguments,1);return this.each(function(t,r){var f,u,e,o;if(r.getRegistedEvents){if(f=r.getRegistedEvents()[n],!f)return;for(u=0;u<f.length;u++)if(e=f[u].method,o=e.apply(r,i),o){E$.log("Event [{0}] break by item[{1}] listeners[{2}].",n,t,u);break}}})},memberwiseClone:function(){return i.memberwiseClone({},this)},clone:function(){return i.clone(this)},deepClone:function(){return i.deepClone(this)},immediate:function(n,t){return this.each(function(i,r){r[n]=t})},extra:function(n){return i.each(this,function(t,r){i.extends(r,n)}),this}};i.oWrapper.wrap.prototype=i.oWrapper;i.cWrapper.extends=i.dWrapper.extends=i.sWrapper.extends=i.oWrapper.extends=i.extends;i([i.cWrapper,i.dWrapper,i.sWrapper,i.oWrapper]).extra({pushStack:function(n){var t=r.makeArray(n,this.constructor());return t.prevObject=this,t.context=this.context,t},reWrap:function(n){if(n||(n=this),n&&E$.isFunction(n.constructor)){var i=r.makeArray(this.toArray(),n.constructor());return i.prevObject=this,i.context=this.context,i}return t},contains:function(n){return this.filter(n).length>0},filter:function(n,t){return this.pushStack(r.grep(this,n,t))},map:function(n,t){return this.pushStack(r.map(this,n,t))},execute:function(n,r){return i.each(this,function(i,u){if(E$.isFunction(n)){var f=n(u,i,r);if(f!==t)return f}}),this},each:function(n,t){return i.each(this,n,t)},unique:function(n){var r,u=[],t=0,i=0,f=n||function(n,t){return n===t};for(this.sort();r=this[t++];)f(this[t],r)&&(i=u.push(t));while(i--)this.splice(u[i],1);return this},element:function(n){return n<0?this[num+this.length]:this[n||0]},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},toArray:function(){return r.ap.slice.call(this)},push:r.ap.push,sort:r.ap.sort,splice:r.ap.splice,valueOf:function(){var n=this.length;return n>1?this.toArray():n==1?this[0]:null}});n.EES=n.E$=i;n.S$=r;n.C$={VOID:-1,FALSE:0,TRUE:1,BREAK:10,CONTINUE:20,RETURN:30}})(window),function(n){"use strict";var r=function(){},t=function(){var i=null,u=S$.ap.slice.call(arguments),f,t,e,o;return n.isFunction(u[0])&&(i=u.shift()),f=function(){},t=function(){return this.ctor.apply(this,arguments),this},t.E$C=!0,t.E$CT=Date.now(),t.BaseClass=i,i&&(f.prototype=i.prototype,t.prototype=new f,t.Base=i.prototype),t.prototype.constructor=t,e=[{}],u.length>0&&S$.ap.push.apply(e,u),o=n.extends.apply(n,e),n.each(o,function(n,i){t.prototype[n]=i}),t.prototype.ctor||(t.prototype.ctor=r),i&&i.prototype.constructor===Object.prototype.constructor&&(i.prototype.constructor=i),t},i;n(t).staExtra({copyInstantiate:function(t){if(n.isPlainObject(t))return n.deepClone(t);if(n.isFunction(t)){var i=n.deepClone(t.prototype);return t.apply(i,S$.ap.slice.call(arguments,1)),i}return t},instantiate:function(t,i){if(t&&n.isFunction(t)){var u=n.isArray(i)?i:S$.ap.slice.call(arguments,1),r=n.clone(t.prototype),f=t.prototype.constructor.apply(r,u);return f||r}},namespace:function(t,i){if(!EES.isString(t)){EES.log(t);throw new Error("Is not a namespace.");}var u=(t||"").split("."),r=window;return EES.each(u,function(n,t){r[t]=r[t]||{};r=r[t]}),n.isFunction(i)?i.call(EES,r):void 0},using:function(n,t){var r=function(n,t,i){if(i=i||0,t.length===i)return n;var u=n[t[i]];return r(u,t,i+1)},u=function(n){return(n||"").split(".")},i=[];return EES.isArray(n)?EES.each(n,function(n,t){i.push(r(window,u(t)))}):EES.isString(n)&&i.push(r(window,u(n))),i.length===0&&i.push(window),t.apply(EES,i)}});i=t({ctor:function(i,r){if(arguments.length!==2)throw new Error("Invalid args");if(n.isPlainObject(r))this.name=i,this.map=t(r);else throw new Error("Invalid interface map");},name:"",map:null,getProperties:function(){if(!this.map)throw new Error("Invalid interface map.");return n.reflections.utilities.getPropertyNames(n.isFunction(this.map)?this.map.prototype:this.map)},getMethods:function(){if(!this.map)throw new Error("Invalid interface map.");return n.reflections.utilities.getMethodNames(n.isFunction(this.map)?this.map.prototype:this.map)},ensureProperty:function(t){var r=this.getProperties(),u=this,i=!0;return r.each(function(r,f){if(!t.contains(function(n){return f===n})){var e=String.format("Not implement interface <{0}>(property #{1}).",u.name,f);n.log(e);i&&(i=!1)}}),i},ensureMethod:function(t){var r=this.getMethods(),u=this,i=!0;return r.each(function(r,f){if(!t.contains(function(n){return f===n})){var e=String.format("Not implement interface <{0}>(method #{1}).",u.name,f);n.log(e);i&&(i=!1)}}),i},ensure:function(t){if(!t)throw new Error("Invalid arguments (argument is not defined).");var r=n.isFunction(t)?t.prototype:t,i=n.reflections.utilities.getMemberNames(r),u=this.ensureProperty(i.properties),f=this.ensureMethod(i.methods);return u&&f}});n.extends({klass:t,Interface:i})}(EES),function(n){"use strict";n.namespace("E$.reflections",function(t){var u={unknow:-1,property:0,method:1},f=n.klass({ctor:function(n,t,i,r){this.source=n;this.name=t;this.member=i;this.type=r},source:null,name:"",member:null,type:-1}),i=n.klass(f,{ctor:function(n,t,r){i.Base.ctor.call(this,n,t,r,u.property)},getValue:function(){return this.member}}),r=n.klass(f,{ctor:function(n,t,i){r.Base.ctor.call(this,n,t,i,u.method)},invoke:function(t,i){return t=t||this.source,n.isArray(i)?this.member.apply(t,i):arguments.length>1?this.member.apply(t,S$.sp.slice.call(arguments,1)):this.member.call(t)}}),e=n.klass({getPropertyInfos:function(t){var r,u,f;if(t&&n.isObject(t)){r=new n.components.collections.List;for(u in t)f=t[u],n.isFunction(f)||r.add(new i(t,u,f));return r}},getPropertyNames:function(t){var i,r,u;if(t&&n.isObject(t)){i=new n.components.collections.List;for(r in t)u=t[r],n.isFunction(u)||i.add(r);return i}},getMethodInfos:function(t){var i,u,f;if(t&&n.isObject(t)){i=new n.components.collections.List;for(u in t)f=t[u],n.isFunction(f)&&i.add(new r(t,u,f));return i}},getMethodNames:function(t){var i,r,u;if(t&&n.isObject(t)){i=new n.components.collections.List;for(r in t)u=t[r],n.isFunction(u)&&i.add(r);return i}},getNoInfoMethods:function(t){var i,r,u;if(t&&n.isObject(t)){i={};for(r in t)u=t[r],n.isFunction(u)&&(i[r]=u);return i}},getMemberInfos:function(t){var e,o,u,f;if(!t||!n.isObject(t))return null;e=new n.components.collections.List;o=new n.components.collections.List;for(u in t)f=t[u],n.isFunction(f)?o.add(new r(t,u,f)):e.add(new i(t,u,f));return{properties:e,methods:o}},getMemberNames:function(t){var r,u,i,f;if(!t||!n.isObject(t))return null;r=new n.components.collections.List;u=new n.components.collections.List;for(i in t)f=t[i],n.isFunction(f)?u.add(i):r.add(i);return{properties:r,methods:u}}});n.extends(t,{EnumMemberType:u,MemberInfo:f,PropertyInfo:i,MethodInfo:r,utilities:new e})})}(EES),function(n){"use strict";n.namespace("E$.components.basic",function(t){var i=function(n){var i=function(t){if(!!n.onDown)n.onDown(t);n.preventDefault&&t.preventDefault&&t.preventDefault();n.stopPropagation&&t.stopPropagation&&t.stopPropagation();this.addEventListener("touchmove",r,n.capture);this.addEventListener("mousemove",r,n.capture);this.addEventListener("touchend",u,n.capture);this.addEventListener("mouseup",u,n.capture)},r=function(t){if(n.onMove)n.onMove(t);n.preventDefault&&t.preventDefault&&t.preventDefault();n.stopPropagation&&t.stopPropagation&&t.stopPropagation()},u=function(t){if(this.removeEventListener("touchmove",r,n.capture),this.removeEventListener("mousemove",r,n.capture),n.onUp)n.onUp(t);n.preventDefault&&t.preventDefault&&t.preventDefault();n.stopPropagation&&t.stopPropagation&&t.stopPropagation();this.removeEventListener("touchend",u,n.capture);this.removeEventListener("mouseup",u,n.capture)},t;return{bind:function(r){return t=r,t&&(t.addEventListener("touchstart",i,n.capture),t.addEventListener("mousedown",i,n.capture)),this},unbind:function(){return t&&(t.removeEventListener("touchstart",i,n.capture),t.removeEventListener("mousedown",i,n.capture)),this}}};n.extends(t,{TouchMonitor:i})});n.namespace("E$.components.collections",function(t){var i=n.klass({ctor:function(n){this.length=0;n&&(S$.isArraylike(n)||n instanceof i)&&S$.makeArray(n,this)},count:function(t){return n.isNullOrUndefined(t)||!n.isFunction(t)?this.length:this.filter(t).length},clear:function(){return S$.ap.splice.call(this,0)},contains:function(n){return S$.ap.indexOf.call(this,n)>-1},filter:function(n){return S$.grep(this,n)},map:function(n,t){return S$.map(this,n,t)},toArray:function(){return S$.ap.slice.call(this)},toString:function(n){return S$.ap.join.call(this,n||",")},indexOf:S$.ap.indexOf,sort:S$.ap.sort,splice:S$.ap.splice}),r=n.klass(i,{ctor:function(n){r.Base.ctor.call(this,n)},add:function(n){return arguments.length>1?S$.ap.push.apply(this,arguments):S$.ap.push.call(this,n)},getRange:function(n,t){return S$.ap.slice.call(this,n,t)},remove:function(n){return S$.ap.splice.call(this,this.indexOf(n),1)},removeAt:function(n){return S$.ap.splice.call(this,n,1)}}),u=n.klass(i,{ctor:function(n){u.Base.ctor.call(this,n)},push:function(n){return arguments.length>1?S$.ap.unshift.apply(this,arguments):S$.ap.unshift.call(this,n)},pop:function(){return S$.ap.shift.call(this)},peek:function(){return this[0]}}),f=n.klass(i,{ctor:function(n){f.Base.ctor.call(this,n)},enqueue:function(n){return arguments.length>0?S$.ap.push.apply(this,arguments):S$.ap.push.call(this,n)},dequeue:function(){return S$.ap.shift.call(this)},peek:function(){return this[0]}});n.extends(t,{CollectionBase:i,List:r,Stack:u,Queue:f})})}(EES),function(n){"use strict";n.namespace("E$.structs",function(t){var i=n.klass({ctor:function(n,t,i){this.x=n||0;this.y=t||0;this.t=i||Date.now()},x:0,y:0,t:0,addition:function(t){if(t instanceof i)return new i(this.x+t.x,this.y+t.y);if(n.isNumeric(t))return new i(this.x+t,this.y+t);throw new Error("Invalid opteration. Args[0] is not a Vector2 or Numeric.");},subtract:function(t){if(t instanceof i)return new i(this.x-t.x,this.y-t.y);if(n.isNumeric(t))return new i(this.x-t,this.y-t);throw new Error("Invalid opteration. Args[0] is not a Vector2 or Numeric.");},multiply:function(t){if(t instanceof i)return new i(this.x*t.x,this.y*t.y);if(n.isNumeric(t))return new i(this.x*t,this.y*t);throw new Error("Invalid opteration. Args[0] is not a Vector2 or Numeric.");},divide:function(t){if(t instanceof i)return new i(this.x/t.x,this.y/t.y);if(n.isNumeric(t))return t===0?i.ORIGIN.copy():new i(this.x/t,this.y/t);throw new Error("Invalid opteration. Args[0] is not a Vector2 or Numeric.");},compare:function(n){return i.compare(this,n)},equals:function(n){return i.equals(this,n)},copy:function(){return new i(this.x,this.y,this.t)},magnitude:function(){var n=this.sqrMagnitude();return Math.sqrt(n)},sqrMagnitude:function(){return this.x*this.x+this.y*this.y},normalize:function(){var n=this.magnitude();return n===0?i.ORIGIN.copy():this.divide(n)},toward:function(n){var t=this.normalize().multiply(n);return this.addition(t)},elapse:function(t){if(t instanceof i)return this.t-t.t;if(n.isNumeric(t))return this.t-t;throw new Error("Invalid opteration. Args[0] is not a Vector2 or Numeric.");},shift:function(n){return this.subtract(n)},unshift:function(n){return this.addition(n)},toString:function(){return String.format("{ x:{0}, y:{1} }",this.x,this.y)},valueOf:function(){return{x:this.x,y:this.y,t:this.t}}}),r,u;n.extends(i,{fromMouseEvent:function(n){return new i(n.clientX,n.clientY)},fromTouchEvent:function(n,t){var r=n.touches[t||0]||n.changedTouches[t||0];return new i(r.clientX,r.clientY)},fromEvent:function(n,t){return n.touches?i.fromTouchEvent(n,t):i.fromMouseEvent(n)},angle:function(n,t){var r,u=n.magnitude(),e=t.normalize().toward(u-1),f;return r=i.distance(e,n)*.5,f=Math.asin(r/u)*180/Math.PI,f*2},distance:function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},compare:function(n,t){var r=n.x-t.x,f=Math.abs(r),u=n.y-t.y,e=Math.abs(u);return new i(r/f,u/e)},equals:function(n,t){var r=i.compare(n,t);return r.x===0&&r.y===0},dot:function(n,t){return n.x*t.x+n.y*t.y},lerp:function(n,t,i){var r=(i>1?1:i<0?0:i)||0;return n.addition(t.subtract(n).multiply(i))},clamp:function(n,t,r){var u=Math.max(Math.min(n.x,r.x),t.x),f=Math.max(Math.min(n.y,r.y),t.y);return new i(u,f)},max:function(n,t){return new i(Math.max(n.x,t.x),Math.max(n.y,t.y))},min:function(n,t){return new i(Math.min(n.x,t.x),Math.min(n.y,t.y))},mid:function(n,t){var r=i.min(n,t),u=i.max(n,t);return u.subtract(r).divide(2).addition(r)},trend:function(n){return new i(n.x/Math.abs(n.x),n.y/Math.abs(n.y))},ZERO:new i(0,0),ORIGIN:new i(0,0),ONE:new i(1,1),LEFT:new i(-1,0),RIGHT:new i(1,0),TOP:new i(0,-1),BOTTOM:new i(0,1)});r=n.klass({ctor:function(n,t){this.position=n;this.size=t},position:i.ORIGIN,size:i.ORIGIN,hitTest:function(n){return this.position.x>n.x||this.position.x+this.size.x<n.x?!1:this.position.y>n.y||this.position.y+this.size.y<n.y?!1:!0}});r.NONE=new r(i.ORIGIN,i.ORIGIN);u=n.klass({ctor:function(n,t){this.min=n;this.max=t},min:i.ORIGIN,max:i.ORIGIN});u.NONE=new u(i.ORIGIN,i.ORIGIN);n.extends(t,{Vector2:i,Rect:r,Range:u})})}(EES),function(n){"use strict";function t(n){var i={},u,o,f,e,r,s;if(n.nodeType===1){if(n.attributes.length>0)for(i["@attributes"]={},u=0;u<n.attributes.length;u++)o=n.attributes.item(u),i["@attributes"][o.nodeName]=o.nodeValue}else n.nodeType===3&&(i=n.nodeValue);if(n.hasChildNodes())for(f=0;f<n.childNodes.length;f++)e=n.childNodes.item(f),r=e.nodeName,typeof i[r]=="undefined"?i[r]=t(e):(typeof i[r].length=="undefined"&&(s=i[r],i[r]=[],i[r].push(s)),i[r].push(t(e)));return i}S$.xmlToJson=t;n(String).staExtra({format:function(n){n=n||"";var t=arguments;return n.replace(/\{(\d+)\}/ig,function(n,i){return t[parseInt(i)+1]})},propsFormat:function(n,t){n=n||"";return n.replace(/\{(\w+)\}/ig,function(n,i){return t[i]})},advPropsFormat:function(n,t){n=n||"";return n.replace(/\{(\w+(?:\.\w+)*)\}/ig,function(n,i){for(var f=(i||"").split("."),r=t,u=0;u<f.length;u++)if(r=r[f[u]],r===null||r===undefined)return i;return r})}});n.extends({log:function(t){var i,r,u;n.isDebugging&&(i=S$.ap.slice.call(arguments),t===!0&&(i.shift(),r=!0),console.groupCollapsed("E$.log("+function(n){for(var i=[],t=0;t<n.length;t++)i.push(S$.getType(n[t]));return i.toString()}(i)+"):arguments["+(i.length-1)+"]"),n.log.expandArray===!0&&n.isArray(i[0])?(u=i.shift(),n.each(u,function(n,t){console.debug.apply(this,[t].concat(i))})):console.debug.apply(this,i),(r||EES.log.tracing===!0)&&console.trace(),console.groupEnd())},defaults:function(t,i){if(!n.isObject(i))throw new Error("Values is not a object");var r=n.clone(t);if(!r)throw new Error("Default values is not a object.");return i?n.extends({},t,i):r},equals:function(t,i){var h=t===null&&i===null,c=t===undefined&&i===undefined,f,e,r,o,s,u;if(h||c)return!0;if(f=S$.getType(t),e=S$.getType(i),f==="object"&&e==="object"){r=!0;for(o in t)if(!n.equals(t[o],i[o])){r=!1;break}if(!r)return!1;for(s in i)if(!n.equals(t[s],i[s])){r=!1;break}return r}if(f==="array"&&e==="array"){if(t.length!==i.length)return!1;for(u=0;u<t.length;u++)if(!n.equals(t[u],i[u]))return!1;return!0}return f==="function"&&e==="function"?t.prototype.constructor===i.prototype.constructor:t===i},proxy:function(t,i){var r,u;return(typeof i=="string"&&(r=t[i],i=t,t=r),!n.isFunction(t))?undefined:(u=S$.ap.slice.call(arguments,2),function(){return t.apply(i||this,u.concat(S$.ap.slice.call(arguments)))})},ready:function(t){var i=new n.components.collections.List,u=!1,r=function(){u=!0;t.removeEventListener("DOMContentLoaded",r);window.removeEventListener("load",r);n.each(i,function(n,t){t()});i.clear();i=null};return t.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r),function(n){u?n():i.add(n)}}(document),newId:function(n){n=n||"";var t=Date.now();return n+t+"_"+Math.floor(Math.random()*1e5)%10001},randomRange:function(n,t){var i=Math.min(n,t),r=Math.max(n,t);return Math.random()*(r-i)+i},memberwiseClone:function(n,t){var i,r;if(arguments.length>2)for(i=1;i<arguments.length;i++)EES.memberWiseClone(n,arguments[i]);else if(arguments.length===2)for(r in t)n[r]=t[r]},clone:function(n){if(!EES.isObject(n))return null;var t=function(){};return t.prototype=n,new t},deepClone:function(n){var i,t;if(!n)return null;i=n.constructor===Object?new n.constructor:new n.constructor(n.valueOf());for(t in n)i[t]!==n[t]&&(i[t]=EES.isObject(n[t])?EES.deepClone(n[t]):n[t]);return i.toString=n.toString,i.valueOf=n.valueOf,i}});n.log.expandArray=n.log.tracing=!1}(EES),function(n){"use strict";n.namespace("E$.observers",function(t){var i=function(t,i,r,u,f){t&&n.isObject(t)?(t=t[r+u],n.isFunction(t)&&t(i,r,u,f)):n.isFunction(t)?t(i,r,u,f):n(i).dispatch(r+u,S$.ap.slice.call(arguments,1))},r=function(t,r,u){if(t&&n.isObject(t)&&r!=="getRegistedEvents"){var f=t[r];Object.defineProperty(t,r,{get:function(){return i(u,t,r,"$get",f),f},set:function(n){f=n;i(u,t,r,"$set",f)}})}},u=function(t,r,u){if(t&&n.isObject(t)&&r!=="getRegistedEvents"){var f=t[r];t[r]=function(){var n=S$.ap.slice.call(arguments,0);return i(u,t,r,"$call",n),f&&f.apply(t,n)}}},e=function(t,i,f){var e,o;t&&n.isObject(t)&&i!=="getRegistedEvents"&&(e=t[i],!e||(o=n.isFunction(e)?u:r,o(t,i,f)))},f=function(t,i){var f=n.reflections.utilities.getMemberInfos(t);n.each(f.properties,function(n,u){r(t,u.name,i)});n.each(f.methods,function(n,r){u(t,r.name,i)})};n.extends(t,{property:r,method:u,member:e,objObservable:f});n.oWrapper.extends({observable:function(n){return this.each(function(t,i){f(i,n)})}})});n.namespace("E$.aop",function(t){Function.prototype.before=function(n){var t=this;return function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}};Function.prototype.after=function(n){var t=this;return function(){var i=t.apply(this,arguments);return i===!1?!1:(n.apply(this,arguments),i)}};var i=function(t,i){var r=arguments.length===2&&n.isArray(i)?i:S$.ap.slice.call(arguments,1);return r.concat(S$.ap.slice.call(t))},r=function(t,r){var u=new n.components.collections.List,f;return{before:function(t){return n.isFunction(t)&&u.add({priority:-1,callback:t,args:"advice:before"}),this},after:function(t){return n.isFunction(t)&&u.add({priority:1,callback:t,args:"advice:after"}),this},around:function(t){return n.isFunction(t)&&u.add({priority:-2,callback:t,args:"advice:around:before"},{priority:2,callback:t,args:"advice:around:after"}),this},done:function(t){return n.isFunction(t)&&(f=t),this},error:function(r){return n.isFunction(r)&&u.add({priority:0,callback:function(){try{return t.apply(this,arguments)}catch(n){return r.apply(this,i(arguments,["advice:error",n]))}}}),this},weave:function(){return u.count(function(n){return n.priority===0})===0&&u.add({priority:0,callback:function(){return t.apply(this,arguments)}}),u.sort(function(n,t){return n.priority-t.priority}),n.log(!0,"aop.weaver: weave cut point {0}",u.length-1),function(){for(var n,h,t=r||this,o,e=S$.ap.slice.call(arguments),s=0;s<u.length;s++)if(n=u[s],n.priority===0)o=n.callback.apply(t,e);else{if(h=n.callback.apply(t,i(e,n.args)),h===C$.RETURN)return f&&f.apply(t,i(e,"advice:done")),o;if(h===C$.BREAK)break}return f&&f.apply(t,i(e,"advice:done")),o}}}},u=function(t,i){if(n.isFunction(t))return r(t,i);if(n.isString(t)&&n.notNullAndUndefined(i)&&n.isFunction(i[t]))return r(i[t],i);var u=n.isFunction(t)?t.name||"anonymous":t;n.log("aspect weave [{0}] faild. on scope:",u);n.log(i);return};t.weaver=u})}(EES),function(n){"use strict";n.namespace("E$.encoding",function(t){var r=function(n){for(var t,u,f,e,i=[],o=n.length,r=0;r<o;r++)t=n.charCodeAt(r),t>0&&t<=127?i.push(n.charAt(r)):t>=128&&t<=2047?(u=192|t>>6&31,f=128|t&63,i.push(String.fromCharCode(u),String.fromCharCode(f))):t>=2048&&t<=65535?(u=224|t>>12&15,f=128|t>>6&63,e=128|t&63,i.push(String.fromCharCode(u),String.fromCharCode(f),String.fromCharCode(e))):t>=65536&&t<=2097151||t>=2097152&&t<=67108863;return i.join("")},u=function(n){for(var u=[],h=n.length,i=0,t,f,e,r,s,o;i<h;i++)t=n.charCodeAt(i),(t>>7&255)==0?u.push(n.charAt(i)):(t>>5&255)==6?(r=n.charCodeAt(++i),f=(t&31)<<6,e=r&63,o=f|e,u.push(Sting.fromCharCode(o))):(t>>4&255)==14?(r=n.charCodeAt(++i),s=n.charCodeAt(++i),f=t<<4|r>>2&15,e=(r&3)<<6|s&63,o=(f&255)<<8|e,u.push(String.fromCharCode(o))):(t>>3&255)==30||(t>>2&255)==62;return u.join("")},i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],f={encode:function(n){var f,e,h;if(!n)return"";for(var o=r(n),u=0,s=o.length,t=[];u<s;){if(f=o.charCodeAt(u++)&255,t.push(i[f>>2]),u===s){t.push(i[(f&3)<<4]);t.push("==");break}if(e=o.charCodeAt(u++),u===s){t.push(i[(f&3)<<4|e>>4&15]);t.push(i[(e&15)<<2]);t.push("=");break}h=o.charCodeAt(u++);t.push(i[(f&3)<<4|e>>4&15]);t.push(i[(e&15)<<2|(h&192)>>6]);t.push(i[h&63])}return t.join("")},decode:function(n){if(!n)return"";for(var a=n.length,s,e,r,o,h,c,l,t=0,f=[];t<a;)s=i.indexOf(n.charAt(t++)),e=i.indexOf(n.charAt(t++)),r=i.indexOf(n.charAt(t++)),o=i.indexOf(n.charAt(t++)),h=s<<2|e>>4,c=(e&15)<<4|r>>2,l=(r&3)<<6|o,f.push(String.fromCharCode(h)),r!==64&&f.push(String.fromCharCode(c)),o!==64&&f.push(String.fromCharCode(l));return u(f.join(""))}};n.extends(t,{utf:{utf16To8:r,utf8To16:u},base64:f})})}(EES),function(){var n=console.debug||function(){};console.debug=function(t,i){return arguments.length===1?n.call(console,t):arguments.length===2&&E$.isObject(i)?n.call(console,String.propsFormat(t,i)):n.call(console,String.format.apply(console,arguments))}}(),function(n){"use strict";n.dWrapper.extends({addClass:function(t){var i=n((t||"").match(/\S+/g)||[""]).trim();return this.each(function(t,r){if(r.nodeType===1){var u=new n.components.collections.List(r.classList),e,f;u.sort();e=u.toString(" ");i.each(function(n,t){u.contains(t)||u.add(t)});u.sort();f=u.toString(" ");e!==f&&(r.className=f)}})},removeClass:function(t){var i=n((t||"").match(/\S+/g)||[""]).trim();return this.each(function(t,r){if(r.nodeType===1){var u=new n.components.collections.List(r.classList),e,f;u.sort();e=u.toString(" ");i.each(function(n,t){u.contains(t)&&u.remove(t)});f=u.toString(" ");e!==f&&(r.className=f)}})}})}(EES);